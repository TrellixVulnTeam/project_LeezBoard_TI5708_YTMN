<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>IMGLIB: IMG_median_3x3_16</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="tilogo.gif"></a></td>
  <td bgcolor="red"><img src="titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>IMG_median_3x3_16</h1><hr><a name="_details"></a><h2>Detailed Description</h2>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_m_g__median__3x3__16.html#g8f8ed51eaa5aba4bccf12ab6890018ed">IMG_median_3x3_16</a> (const unsigned short *restrict i_data, int n, unsigned short *restrict o_data)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g8f8ed51eaa5aba4bccf12ab6890018ed"></a><!-- doxytag: member="c66/IMG_median_3x3_16.h::IMG_median_3x3_16" ref="g8f8ed51eaa5aba4bccf12ab6890018ed" args="(const unsigned short *restrict i_data, int n, unsigned short *restrict o_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IMG_median_3x3_16           </td>
          <td>(</td>
          <td class="paramtype">const unsigned short *restrict&nbsp;</td>
          <td class="paramname"> <em>i_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *restrict&nbsp;</td>
          <td class="paramname"> <em>o_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b>Description:</b></dt><dd>This kernel performs a 3x3 median filter operation on 16-bit unsigned image pixels. The grey level at each pixel is replaced by the median of nine adjacent values. The median of a set of nine numbers is the middle element so that half of the elements in the list are larger and half are smaller. Median filters remove the effects of extreme values from data, such as salt and pepper noise. </dd></dl>
<dl class="user" compact><dt><b></b></dt><dd>The input image contains 3 adjacent rows from an actual image. The output array will be a single row of the median values of the masked input. For the first two outputs, the two columns outside the image are assumed to be all zeros. </dd></dl>
<dl class="user" compact><dt><b></b></dt><dd>The first 2 values in the output array will not contain any meaningful data. The 3rd value in the output array will be the median of 2nd value in the middle row of input array and so on. The nth value in the output array will be the median of the (n-1)th value in the mid row of input array. Hence the output array will not contain the median values of the first and last elements in the middle row of input image. Instead it will contain two meaningless values at the beginning of the array. </dd></dl>
<dl class="user" compact><dt><b></b></dt><dd></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>i_data</em>&nbsp;</td><td>Input image containing 3 rows (i.e., size of 3 x n) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>Width of input image in pixels </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>o_data</em>&nbsp;</td><td>Output image containing 1 row (i.e., size of 1 x n)</td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b>Algorithm:</b></dt><dd>This implementation uses an incremental sorting technique to greatly reduce the number of compares and exchanges necessary to sort the image pixels. </dd></dl>
<dl class="user" compact><dt><b></b></dt><dd>The main loop reads three new pixels from the input image each iteration. These three pixels form the right edge of the filter mask. The filter data from the previous iteration is "slid over" by one pixel to form the complete 3x3 mask. </dd></dl>
<dl class="user" compact><dt><b></b></dt><dd>Each 3-pixel "column" is sorted as it is read in from the image, resulting in a "lo", "medium" and "hi" pixel value for the column. This results in a 3x3 filter mask with sorted columns or three rows -- a row of "minimums", a row of "middle values", and a row of "maximums". </dd></dl>
<dl class="user" compact><dt><b></b></dt><dd>The median filter operates from this partially ordered mask. It finds the smallest element in the row of "maximums", the middle element in the row of "middle values", and the largest element in the row of "minimums". The median value of these three values is the median for the entire 3x3 mask. </dd></dl>
<dl class="user" compact><dt><b></b></dt><dd>This process minimizes compares, as the whole mask does not need to be sorted between iterations. Rather, the partial ordering for two of the three columns from one iteration is used directly for the next iteration. </dd></dl>
<dl class="user" compact><dt><b></b></dt><dd>The natural C implementation has no restrictions. The optimized intrinsic C code has restrictions as noted in Assumptions below.</dd></dl>
<dl class="user" compact><dt><b>Assumptions:</b></dt><dd><ul>
<li>The input array and output array should not overlap</li><li>The minimum value for width of input image 'n' is 4</li><li>The width of input image 'n' must be a multiple of 4</li></ul>
</dd></dl>
<dl class="user" compact><dt><b>Implementation Notes:</b></dt><dd><ul>
<li>This code is fully interruptible</li><li>This code is compatible with C66x processors</li><li>No bank conflicts occur</li></ul>
</dd></dl>
<dl class="user" compact><dt><b>Benchmarks:</b></dt><dd>See IMGLIB_Test_Report.html for cycle and memory information. </dd></dl>

</div>
</div><p>
<hr size="1"><small>
Copyright  2012, Texas Instruments Incorporated</small>
</body>
</html>
