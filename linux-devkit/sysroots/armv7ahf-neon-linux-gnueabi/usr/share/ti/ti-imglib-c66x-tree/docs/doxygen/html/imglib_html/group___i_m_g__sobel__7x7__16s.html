<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>IMGLIB: IMG_sobel_7x7_16s</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="tilogo.gif"></a></td>
  <td bgcolor="red"><img src="titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>IMG_sobel_7x7_16s</h1><hr><a name="_details"></a><h2>Detailed Description</h2>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_m_g__sobel__7x7__16s.html#g94a435622dc9eac5f962c2c0c48c1737">IMG_sobel_7x7_16s</a> (const short *restrict in, short *restrict out, short cols, short rows)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g94a435622dc9eac5f962c2c0c48c1737"></a><!-- doxytag: member="c66/IMG_sobel_7x7_16s.h::IMG_sobel_7x7_16s" ref="g94a435622dc9eac5f962c2c0c48c1737" args="(const short *restrict in, short *restrict out, short cols, short rows)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IMG_sobel_7x7_16s           </td>
          <td>(</td>
          <td class="paramtype">const short *restrict&nbsp;</td>
          <td class="paramname"> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short *restrict&nbsp;</td>
          <td class="paramname"> <em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&nbsp;</td>
          <td class="paramname"> <em>cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&nbsp;</td>
          <td class="paramname"> <em>rows</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="user" compact><dt><b>Description:</b></dt><dd>This function applies 7-by-7 horizontal and vertical Sobel edge detection masks to the input image and produces an output image which is six rows shorter than the input image. Within each row of the output, the first three and the last three pixels will not contain meaningful results. </dd></dl>
<dl class="user" compact><dt><b></b></dt><dd></dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>Input image pointer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>out</em>&nbsp;</td><td>Output image pointer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cols</em>&nbsp;</td><td>Number of columns in the image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rows</em>&nbsp;</td><td>Number of rows in the image</td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b>Algorithm:</b></dt><dd>The Sobel edge-detection masks shown below are applied to the input image independently. The absolute value of each mask result are summed together and saturated to 16-bits.</dd></dl>
<div class="fragment"><pre class="fragment">

          Horizontal Mask:                                                     
              -1 -1 -1 -2 -1 -1 -1
              -1 -1 -1 -2 -1 -1 -1
              -1 -1 -1 -2 -1 -1 -1
               0  0  0  0  0  0  0
               1  1  1  2  1  1  1
               1  1  1  2  1  1  1
               1  1  1  2  1  1  1

          Vertical Mask:                                                       
              -1 -1 -1  0  1  1  1
              -1 -1 -1  0  1  1  1
              -1 -1 -1  0  1  1  1
              -2 -2 -2  0  2  2  2
              -1 -1 -1  0  1  1  1
              -1 -1 -1  0  1  1  1
              -1 -1 -1  0  1  1  1
   </pre></div><p>
<dl class="user" compact><dt><b></b></dt><dd>The example below illustrates how the implementation would operate on a given input image. Imagine the following 10-by-16 pixel input image:</dd></dl>
<div class="fragment"><pre class="fragment">

              yyyyyyyyyyyyyyyy
              yyyyyyyyyyyyyyyy
              yyyyyyyyyyyyyyyy
              yyyxxxxxxxxxxyyy
              yyyxxxxxxxxxxyyy
              yyyxxxxxxxxxxyyy
              yyyxxxxxxxxxxyyy
              yyyyyyyyyyyyyyyy
              yyyyyyyyyyyyyyyy
              yyyyyyyyyyyyyyyy
   </pre></div> <dl class="user" compact><dt><b></b></dt><dd>Where the output is only defined for the inner pixels, x, due to the edge effect of the 7-by-7 pixel mask. </dd></dl>
<dl class="user" compact><dt><b></b></dt><dd>The output image would have the form: <div class="fragment"><pre class="fragment">
                                                                          
              tttXXXXXXXXXXzzz
              zzzXXXXXXXXXXzzz
              zzzXXXXXXXXXXzzz
              zzzXXXXXXXXXXttt

  Where:   X = sobel(x)   The algorithm is applied to that pixel. The correct 
                          output is obtained, the data surrounding the pixel 
                          is used            
                                                                      
           t              Data in the output buffer in that position is unaltered
                                                                         
           z = sobel(y)   The algorithm is applied to that pixel. The output is 
                          not meaningful since the data necessary to process the 
                          pixel is not available.                         
  </pre></div> </dd></dl>
<dl class="user" compact><dt><b></b></dt><dd>This means that (rows-6) lines of pixels will be processed. Though all pixels within each line are processed, the results for the first three and last three pixels are not valid, yet still provided. This makes the control code simpler and saves cycles. Note that The first three pixels in the first processed row and the last three pixels in the last processed row are not generated. </dd></dl>
<dl class="user" compact><dt><b></b></dt><dd>The natural C implementation has no restrictions. The optimized intrinsic C code has restrictions as noted in Assumptions below.</dd></dl>
<dl class="user" compact><dt><b>Assumptions:</b></dt><dd><ul>
<li>The input array and output array should not overlap</li><li>Both input and output arrays must be 16-bit aligned</li><li>The "cols" input value must be greater than 7 and a multiple of 2</li><li>The "rows" input value must be greater than or equal to 7</li><li>The value (cols * (rows - 6) - 6) must be at least 2</li></ul>
</dd></dl>
<dl class="user" compact><dt><b>Implementation Notes:</b></dt><dd><ul>
<li>This code is fully interruptible</li><li>This code is compatible with C66x processors</li><li>The values of the three left-most and three right-most pixels on each output line are not defined</li></ul>
</dd></dl>
<dl class="user" compact><dt><b>Benchmarks:</b></dt><dd>See IMGLIB_Test_Report.html for cycle and memory information. </dd></dl>

</div>
</div><p>
<hr size="1"><small>
Copyright  2012, Texas Instruments Incorporated</small>
</body>
</html>
